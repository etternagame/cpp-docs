<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Etterna: RageSoundDriver.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Etterna
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_70d5e250c66d001b18da37689179cade.html">arch</a></li><li class="navelem"><a class="el" href="../../dir_fbd821e9c1bbc119140c144e331179c9.html">Sound</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RageSoundDriver.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d5/d78/RageSoundDriver_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef RAGE_SOUND_DRIVER</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define RAGE_SOUND_DRIVER</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/de6/RageThreads_8h.html">RageThreads.h</a>&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d80/RageTimer_8h.html">RageTimer.h</a>&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d4c/RageUtil_8h.html">RageUtil.h</a>&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/dbf/RageUtil__CircularBuffer_8h.html">RageUtil_CircularBuffer.h</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/de1/RageDriver_8h.html">arch/RageDriver.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">class </span><a class="code" href="../../d3/d9d/classRageSoundBase.html">RageSoundBase</a>;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">class </span><a class="code" href="../../dc/d8a/classRageTimer.html">RageTimer</a>;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">class </span><a class="code" href="../../d9/d1b/classRageSoundMixBuffer.html">RageSoundMixBuffer</a>;</div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="../../d5/d78/RageSoundDriver_8h.html#ac5421c50c9bef9bb472b5096dd14d11e">   13</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d5/d78/RageSoundDriver_8h.html#ac5421c50c9bef9bb472b5096dd14d11e">samples_per_block</a> = 512;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html">   15</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d1/d4f/classRageSoundDriver.html">RageSoundDriver</a> : <span class="keyword">public</span> <a class="code" href="../../dc/df0/classRageDriver.html">RageDriver</a></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="comment">/* Pass an empty string to get the default sound driver list. */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keyword">static</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html">RageSoundDriver</a>* <a class="code" href="../../d1/d4f/classRageSoundDriver.html#ab36ac6f8dcb50583de43241c949551a7">Create</a>(<span class="keyword">const</span> <a class="code" href="../../da/d2e/classStdString_1_1CStdStr.html">RString</a>&amp; sDrivers);</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a1329b69ae9a906c8ecc5307565e82cb0">   20</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="../../d6/d3f/structDriverList.html">DriverList</a> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a1329b69ae9a906c8ecc5307565e82cb0">m_pDriverList</a>;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="keyword">static</span> <a class="code" href="../../da/d2e/classStdString_1_1CStdStr.html">RString</a> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a2665f28494190b924a7f735d3814fe3c">GetDefaultSoundDriverList</a>();</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a3f7f9376d88a5c4602c7f1d95ad3447c">   23</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../da/d78/classRageSoundManager.html">RageSoundManager</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a285c8b3079d6fed56d11b841b801ad47">RageSoundDriver</a>();</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a8954e180a8870c0312c6b5a1f3347e93">~RageSoundDriver</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="comment">/* Initialize.  On failure, an error message is returned. */</span></div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#ab50249cfa37d8a6f07df61d97823ef00">   29</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="../../da/d2e/classStdString_1_1CStdStr.html">RString</a> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#ab50249cfa37d8a6f07df61d97823ef00">Init</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d2/d49/global_8h.html#ac9ee9b3927a8200b03b8a03ea70d7ad7">RString</a>(); }</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">/* A RageSound calls this to request to be played.</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">     * XXX: define what we should do when it can&#39;t be played (eg. out of</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">     * channels) */</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a8053c4fd510d0f483fd22b5b10a7d2e1">StartMixing</a>(<a class="code" href="../../d3/d9d/classRageSoundBase.html">RageSoundBase</a>* pSound);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">/* A RageSound calls this to request it not be played.  When this function</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">     * returns, snd is no longer valid; ensure no running threads are still</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">     * accessing it before returning.  This must handle gracefully the case</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">     * where snd was not actually being played, though it may print a warning.</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a04941ac459f8dd5cfe12b3a414163e79">StopMixing</a>(<a class="code" href="../../d3/d9d/classRageSoundBase.html">RageSoundBase</a>* pSound);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">/* Pause or unpause the given sound.  If the sound was stopped (not paused),</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">     * return false and do nothing; otherwise return true and pause or unpause</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">     * the sound.  Unlike StopMixing, pausing and unpause a sound will not lose</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">     * any buffered sound (but will not release any resources associated with</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">     * playing the sound, either). */</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#ac9de076173aea54241b318a25b74c1c4">PauseMixing</a>(<a class="code" href="../../d3/d9d/classRageSoundBase.html">RageSoundBase</a>* pSound, <span class="keywordtype">bool</span> bStop);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">/* Get the current hardware frame position, in the same time base as passed</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">     * to RageSound::CommitPlayingPosition. */</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    int64_t <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a82062b4bfeeaca3ce03e79d209b162e2">GetHardwareFrame</a>(<a class="code" href="../../dc/d8a/classRageTimer.html">RageTimer</a>* pTimer) <span class="keyword">const</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">virtual</span> int64_t <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a69db28a45695b97bb28dcff47a7cb5c0">GetPosition</a>() <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">/* When a sound is finished playing (GetDataToPlay returns 0) and the sound</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">     * has been completely flushed (so GetPosition is no longer meaningful),</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">     * call RageSoundBase::SoundIsFinishedPlaying(). */</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">/* Optional, if needed:  */</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#aa7287476041fa720145cf80ad35d9cb6">Update</a>();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">/* Sound startup latency--delay between Play() being called and actually</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">     * hearing it.  (This isn&#39;t necessarily the same as the buffer latency.) */</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a9e6427c9311abf8e4932971e0aa3d17c">   64</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">float</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a9e6427c9311abf8e4932971e0aa3d17c">GetPlayLatency</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0.0f; }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a652a72158103ced0d3ce611f96b1a9e2">   66</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a652a72158103ced0d3ce611f96b1a9e2">GetSampleRate</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 44100; }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keyword">protected</span>:</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">/* Start the decoding.  This should be called once the hardware is set up</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">     * and GetSampleRate will return the correct value. */</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a8683fd72ff3827bf4a1bc112a9eda789">StartDecodeThread</a>();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">/* Call this before calling StartDecodeThread to set the desired decoding</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">     * buffer size.  This is the number of frames that Mix() will try to be able</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">     * to return at once.  This should generally be slightly larger than the</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">     * sound writeahead, to allow filling the buffer after an underrun.  The</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">     * default is 4096 frames. */</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a6fd63d6801ebe3813f0cf5161b5df37e">SetDecodeBufferSize</a>(<span class="keywordtype">int</span> frames);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">/* Override this to set the priority of the decoding thread, which should be</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">     * above normal priority but not realtime. */</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a564f146f69c713536589914ddc700a50">   82</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a564f146f69c713536589914ddc700a50">SetupDecodingThread</a>() {}</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">     * Read mixed data.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">     * pBuf: buffer to read into</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">     * iFrames: number of frames (not samples) to read</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">     * frameno: frame number at which this sound will be heard</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">     * iCurrentFrame: frame number that is currently being heard</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">     * iCurrentFrame is used for handling start timing.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">     * This function only mixes data; it will not lock any mutexes or do any</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">     * file access, and is safe to call from a realtime thread.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a7773e188421b4ff38389b7a7198c193c">Mix</a>(int16_t* pBuf,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;             <span class="keywordtype">int</span> iFrames,</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;             int64_t iFrameNumber,</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;             int64_t iCurrentFrame);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a7773e188421b4ff38389b7a7198c193c">Mix</a>(<span class="keywordtype">float</span>* pBuf,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;             <span class="keywordtype">int</span> iFrames,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;             int64_t iFrameNumber,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;             int64_t iCurrentFrame);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a362460e811c51f1242a56eb21621aca3">MixDeinterlaced</a>(<span class="keywordtype">float</span>** pBufs,</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                         <span class="keywordtype">int</span> <a class="code" href="../../db/d90/RageSoundDriver__ALSA9__Software_8cpp.html#ac7972ea7ef4795b69f79f47a96a5e107">channels</a>,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                         <span class="keywordtype">int</span> iFrames,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                         int64_t iFrameNumber,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                         int64_t iCurrentFrame);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">/* This mutex is used for serializing with the decoder thread.  Locking this</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">     * mutex can take a while. */</span></div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a71f63ec7c3317743ae69ef8e3d53e158">  115</a></span>&#160;    <a class="code" href="../../d4/d99/classRageMutex.html">RageMutex</a> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a71f63ec7c3317743ae69ef8e3d53e158">m_Mutex</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">/* This mutex locks all sounds[] which are &quot;available&quot;.  (Other sound may</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">     * safely be accessed, and sounds may be set to available, without locking</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">     * this.) */</span></div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a6e8e7b4ee93770297f12ebbff2af0ec8">  120</a></span>&#160;    <a class="code" href="../../d4/d99/classRageMutex.html">RageMutex</a> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a6e8e7b4ee93770297f12ebbff2af0ec8">m_SoundListMutex</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">     * Thread safety and state transitions:</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">     * AVAILABLE: The sound is available to play a new sound. The decoding and</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">     * mixing threads will not touch a sound in this state.</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">     * BUFFERING: The sound is stopped but StartMixing() is prebuffering. No</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">     * other threads will touch a sound that is BUFFERING. This isn&#39;t necessary</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">     * if only the main thread can call StartMixing().</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">     * STOPPED: The sound is idle, but memory is still allocated for its buffer.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">     * Update() will deallocate memory and the sound will be changed to</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">     * AVAILABLE.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">     * PLAYING: The sound is being decoded by the decoding thread, and played by</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">     * the mixing thread.  If the decoding thread hits EOF, the decoding thread</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">     * will change the state to STOPPING.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">     * STOPPING: The sound is being played by the mixing thread.  No new data</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">     * will be decoded. Once the data buffer is empty (all sound has been</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">     * played), Update() will change the sound to HALTING.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">     * HALTING: The main thread has called StopMixing or the data buffer is</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">     * empty.  The mixing thread will flush any remaining buffered data without</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">     * playing it, and then move the sound to STOPPED.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">     * The mixing thread operates without any locks.  This can lead to a little</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">     * overlap.  For example, if StopMixing() is called, moving the sound from</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">     * PLAYING to HALTING, the mixing thread might be in the middle of mixing</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">     * data.  Although HALTING means &quot;discard buffered data&quot;, some data will</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">     * still be mixed.  This is OK; the data is valid, and the flush will happen</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">     * on the next iteration.</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">     * The only state change made by the decoding thread is on EOF: the state is</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">     * changed from PLAYING to STOPPING.  This is done while m_Mutex is held, to</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     * prevent races with other threads.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">     * The only state change made by the mixing thread is from HALTING to</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">     * STOPPED. This is done with no locks; no other thread can take a sound out</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">     * of the HALTING state.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">     * Do not allocate or deallocate memory in the mixing thread since</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">     * allocating memory involves taking a lock. Instead, push the deallocation</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">     * to the main thread.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html">  167</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html">sound_block</a></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a831eccd88b598cff3f0fe366ccf8166d">  169</a></span>&#160;        <span class="keywordtype">float</span> <a class="code" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a831eccd88b598cff3f0fe366ccf8166d">m_Buffer</a>[<a class="code" href="../../d5/d78/RageSoundDriver_8h.html#ac5421c50c9bef9bb472b5096dd14d11e">samples_per_block</a>];</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#af2e12ee31fcc88a98f9ac0de3246bc46">  170</a></span>&#160;        <span class="keywordtype">float</span>* <a class="code" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#af2e12ee31fcc88a98f9ac0de3246bc46">m_BufferNext</a>;       <span class="comment">// beginning of the unread data</span></div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#afa74b0cda98573fa0ceca8e58427b7c8">  171</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#afa74b0cda98573fa0ceca8e58427b7c8">m_FramesInBuffer</a>{ 0 }; <span class="comment">// total number of frames at m_BufferNext</span></div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a30bcb230043d8ea69ed82f0308894917">  172</a></span>&#160;        int64_t <a class="code" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a30bcb230043d8ea69ed82f0308894917">m_iPosition</a>;       <span class="comment">// stream frame of m_BufferNext</span></div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a144557ff00676531ed096ab3478db46f">  173</a></span>&#160;        <a class="code" href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a144557ff00676531ed096ab3478db46f">sound_block</a>()</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          : m_BufferNext(m_Buffer)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          , m_iPosition(0)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    };</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html">  180</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html">Sound</a></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a50414e89483f035195a05d903143fa8d">Sound</a>();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a4ed302a37a2d3fe7e6a2c1e716b98e68">Allocate</a>(<span class="keywordtype">int</span> iFrames);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#ae4bff4c35c1868671597991b96df505b">Deallocate</a>();</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a32b547da1e025a34e89c3ed611374cff">  186</a></span>&#160;        <a class="code" href="../../d3/d9d/classRageSoundBase.html">RageSoundBase</a>* <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a32b547da1e025a34e89c3ed611374cff">m_pSound</a>;</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a970ce90d6767df29423b4aaf472230c2">  187</a></span>&#160;        <a class="code" href="../../dc/d8a/classRageTimer.html">RageTimer</a> <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a970ce90d6767df29423b4aaf472230c2">m_StartTime</a>;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a3624d592e13676cee2a19a59925e733b">  188</a></span>&#160;        <a class="code" href="../../d2/dbc/classCircBuf.html">CircBuf&lt;sound_block&gt;</a> <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a3624d592e13676cee2a19a59925e733b">m_Buffer</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a455ca610b1fe86c0137f54e0d7a7db6d">  190</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a455ca610b1fe86c0137f54e0d7a7db6d">m_bPaused</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html">  192</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html">QueuedPosMap</a></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        {</div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#a08d5152aaded5a1d1e77d7747d4713fc">  194</a></span>&#160;            <span class="keywordtype">int</span> <a class="code" href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#a08d5152aaded5a1d1e77d7747d4713fc">iFrames</a>;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#ad7bd35f5f0c9892bccdea73eee27280c">  195</a></span>&#160;            int64_t <a class="code" href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#ad7bd35f5f0c9892bccdea73eee27280c">iStreamFrame</a>;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#ad62f7c7b8c5b67085cc750f6c765607a">  196</a></span>&#160;            int64_t <a class="code" href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#ad62f7c7b8c5b67085cc750f6c765607a">iHardwareFrame</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        };</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a95c26a7fb6dce48971d224db6190284f">  199</a></span>&#160;        <a class="code" href="../../d2/dbc/classCircBuf.html">CircBuf&lt;QueuedPosMap&gt;</a> <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a95c26a7fb6dce48971d224db6190284f">m_PosMapQueue</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keyword">enum</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        {</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaabf906d8225d5db28c6436718bb85f84">  203</a></span>&#160;            <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaabf906d8225d5db28c6436718bb85f84">AVAILABLE</a>,</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaa01d3f573e7c8ab084aeaa6ee2194a5b">  204</a></span>&#160;            <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaa01d3f573e7c8ab084aeaa6ee2194a5b">BUFFERING</a>,</div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaec75996edac5ed63a4e4f4fb0a73cfe8">  205</a></span>&#160;            <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaec75996edac5ed63a4e4f4fb0a73cfe8">STOPPED</a>, <span class="comment">/* idle */</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="comment">/* This state is set by the decoder thread, indicating that the</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">             * sound has just reached EOF.  Once the mixing thread finishes</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">             * flushing buffer, it&#39;ll change to the STOPPING_FINISH state. */</span></div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aabbdecd1df5915697549950ba39f14640">  210</a></span>&#160;            <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aabbdecd1df5915697549950ba39f14640">STOPPING</a>,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaa9676c980d0512c23bddab3d57bfe30d">  212</a></span>&#160;            <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaa9676c980d0512c23bddab3d57bfe30d">HALTING</a>, <span class="comment">/* stop immediately */</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aa9a492cd5759f55e96d409433bae6bf85">  213</a></span>&#160;            <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aa9a492cd5759f55e96d409433bae6bf85">PLAYING</a></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        } <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a482e90bcd62a078589455a622dad258e">m_State</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    };</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">/* List of currently playing sounds: XXX no vector */</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#acb6acaba8d164ae16241d1864fa123cd">  218</a></span>&#160;    <a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html">Sound</a> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#acb6acaba8d164ae16241d1864fa123cd">m_Sounds</a>[32];</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    int64_t <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a6ba6d03518fe0d09b919a3f5cde01580">ClampHardwareFrame</a>(int64_t iHardwareFrame) <span class="keyword">const</span>;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#ae3aa9dd923ea62ba2e73e528cd39857b">  221</a></span>&#160;    <span class="keyword">mutable</span> int64_t <a class="code" href="../../d1/d4f/classRageSoundDriver.html#ae3aa9dd923ea62ba2e73e528cd39857b">m_iMaxHardwareFrame</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a82d253dfb93ee0718c1db683709af4fc">  223</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a82d253dfb93ee0718c1db683709af4fc">m_bShutdownDecodeThread</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a3b02e37deeb92cc5ab8c6f4c99ef81af">DecodeThread_start</a>(<span class="keywordtype">void</span>* <a class="code" href="../../dd/d69/SongManager_8cpp.html#a860beacf4ea6c97989bf4be0b1f14d06">p</a>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#aa9c5e9c34f955fd4599a5bcc49fad66e">DecodeThread</a>();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="../../d9/d1b/classRageSoundMixBuffer.html">RageSoundMixBuffer</a>&amp; <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a8f3de827df662dd3e4186c237d83b0ee">MixIntoBuffer</a>(<span class="keywordtype">int</span> iFrames,</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                      int64_t iFrameNumber,</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                      int64_t iCurrentFrame);</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d1/d4f/classRageSoundDriver.html#a3cd0e3c6fa25509770c1c1f4bc96f8e0">  230</a></span>&#160;    <a class="code" href="../../dd/d20/classRageThread.html">RageThread</a> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a3cd0e3c6fa25509770c1c1f4bc96f8e0">m_DecodeThread</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/d4f/classRageSoundDriver.html#a668c0368b14bda799ad3b72f4f6158c8">GetDataForSound</a>(<a class="code" href="../../da/dbd/structRageSoundDriver_1_1Sound.html">Sound</a>&amp; s);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;};</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">// Can&#39;t use Create##name because many of these have -sw suffixes.</span></div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../d5/d78/RageSoundDriver_8h.html#ab118af643e90f02ed01c1d121a66849a">  236</a></span>&#160;<span class="preprocessor">#define REGISTER_SOUND_DRIVER_CLASS2(name, x)                                  \</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor">    static RegisterRageDriver register_##x(                                    \</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">      &amp;RageSoundDriver::m_pDriverList,                                         \</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">      #name,                                                                   \</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">      CreateClass&lt;RageSoundDriver_##x, RageDriver&gt;)</span></div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="../../d5/d78/RageSoundDriver_8h.html#a955aa1f0e92ad362f8a326aa521971af">  241</a></span>&#160;<span class="preprocessor">#define REGISTER_SOUND_DRIVER_CLASS(name)                                      \</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">    REGISTER_SOUND_DRIVER_CLASS2(name, name)</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> * (c) 2002-2004 Glenn Maynard</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"> * All rights reserved.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"> * Permission is hereby granted, free of charge, to any person obtaining a</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> * copy of this software and associated documentation files (the</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"> * &quot;Software&quot;), to deal in the Software without restriction, including</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"> * without limitation the rights to use, copy, modify, merge, publish,</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"> * distribute, and/or sell copies of the Software, and to permit persons to</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"> * whom the Software is furnished to do so, provided that the above</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"> * copyright notice(s) and this permission notice appear in all copies of</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"> * the Software and that both the above copyright notice(s) and this</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"> * permission notice appear in supporting documentation.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"> * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> * THIRD PARTY RIGHTS. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR HOLDERS</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> * INCLUDED IN THIS NOTICE BE LIABLE FOR ANY CLAIM, OR ANY SPECIAL INDIRECT</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> * OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"> * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"> * PERFORMANCE OF THIS SOFTWARE.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="structRageSoundDriver_1_1sound__block_html_a30bcb230043d8ea69ed82f0308894917"><div class="ttname"><a href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a30bcb230043d8ea69ed82f0308894917">RageSoundDriver::sound_block::m_iPosition</a></div><div class="ttdeci">int64_t m_iPosition</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:172</div></div>
<div class="ttc" id="classRageSoundDriver_html_a652a72158103ced0d3ce611f96b1a9e2"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a652a72158103ced0d3ce611f96b1a9e2">RageSoundDriver::GetSampleRate</a></div><div class="ttdeci">virtual int GetSampleRate() const</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:66</div></div>
<div class="ttc" id="classRageSoundDriver_html_acb6acaba8d164ae16241d1864fa123cd"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#acb6acaba8d164ae16241d1864fa123cd">RageSoundDriver::m_Sounds</a></div><div class="ttdeci">Sound m_Sounds[32]</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:218</div></div>
<div class="ttc" id="classRageSoundDriver_html_a6ba6d03518fe0d09b919a3f5cde01580"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a6ba6d03518fe0d09b919a3f5cde01580">RageSoundDriver::ClampHardwareFrame</a></div><div class="ttdeci">int64_t ClampHardwareFrame(int64_t iHardwareFrame) const</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:505</div></div>
<div class="ttc" id="structRageSoundDriver_1_1sound__block_html"><div class="ttname"><a href="../../dc/dba/structRageSoundDriver_1_1sound__block.html">RageSoundDriver::sound_block</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:167</div></div>
<div class="ttc" id="classRageSoundDriver_html"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html">RageSoundDriver</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:15</div></div>
<div class="ttc" id="RageTimer_8h_html"><div class="ttname"><a href="../../d0/d80/RageTimer_8h.html">RageTimer.h</a></div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a6169db4b73bdebcfd6c987b5d028667aaa9676c980d0512c23bddab3d57bfe30d"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaa9676c980d0512c23bddab3d57bfe30d">RageSoundDriver::Sound::HALTING</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:212</div></div>
<div class="ttc" id="classStdString_1_1CStdStr_html"><div class="ttname"><a href="../../da/d2e/classStdString_1_1CStdStr.html">StdString::CStdStr</a></div><div class="ttdoc">Our wrapper for std::string. </div><div class="ttdef"><b>Definition:</b> StdString.h:349</div></div>
<div class="ttc" id="RageUtil__CircularBuffer_8h_html"><div class="ttname"><a href="../../d0/dbf/RageUtil__CircularBuffer_8h.html">RageUtil_CircularBuffer.h</a></div></div>
<div class="ttc" id="classRageSoundDriver_html_a04941ac459f8dd5cfe12b3a414163e79"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a04941ac459f8dd5cfe12b3a414163e79">RageSoundDriver::StopMixing</a></div><div class="ttdeci">void StopMixing(RageSoundBase *pSound)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:391</div></div>
<div class="ttc" id="classRageThread_html"><div class="ttname"><a href="../../dd/d20/classRageThread.html">RageThread</a></div><div class="ttdoc">Thread, mutex, semaphore, and event classes. </div><div class="ttdef"><b>Definition:</b> RageThreads.h:110</div></div>
<div class="ttc" id="classRageSoundDriver_html_a8954e180a8870c0312c6b5a1f3347e93"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a8954e180a8870c0312c6b5a1f3347e93">RageSoundDriver::~RageSoundDriver</a></div><div class="ttdeci">~RageSoundDriver() override</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:487</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a3624d592e13676cee2a19a59925e733b"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a3624d592e13676cee2a19a59925e733b">RageSoundDriver::Sound::m_Buffer</a></div><div class="ttdeci">CircBuf&lt; sound_block &gt; m_Buffer</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:188</div></div>
<div class="ttc" id="classRageDriver_html"><div class="ttname"><a href="../../dc/df0/classRageDriver.html">RageDriver</a></div><div class="ttdef"><b>Definition:</b> RageDriver.h:7</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a970ce90d6767df29423b4aaf472230c2"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a970ce90d6767df29423b4aaf472230c2">RageSoundDriver::Sound::m_StartTime</a></div><div class="ttdeci">RageTimer m_StartTime</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:187</div></div>
<div class="ttc" id="classRageSoundDriver_html_ac9de076173aea54241b318a25b74c1c4"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#ac9de076173aea54241b318a25b74c1c4">RageSoundDriver::PauseMixing</a></div><div class="ttdeci">bool PauseMixing(RageSoundBase *pSound, bool bStop)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:435</div></div>
<div class="ttc" id="classRageSoundDriver_html_ab50249cfa37d8a6f07df61d97823ef00"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#ab50249cfa37d8a6f07df61d97823ef00">RageSoundDriver::Init</a></div><div class="ttdeci">virtual RString Init()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:29</div></div>
<div class="ttc" id="classRageSoundDriver_html_a3b02e37deeb92cc5ab8c6f4c99ef81af"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a3b02e37deeb92cc5ab8c6f4c99ef81af">RageSoundDriver::DecodeThread_start</a></div><div class="ttdeci">static int DecodeThread_start(void *p)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:51</div></div>
<div class="ttc" id="classRageSoundDriver_html_ab36ac6f8dcb50583de43241c949551a7"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#ab36ac6f8dcb50583de43241c949551a7">RageSoundDriver::Create</a></div><div class="ttdeci">static RageSoundDriver * Create(const RString &amp;sDrivers)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.cpp:12</div></div>
<div class="ttc" id="structRageSoundDriver_1_1sound__block_html_a144557ff00676531ed096ab3478db46f"><div class="ttname"><a href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a144557ff00676531ed096ab3478db46f">RageSoundDriver::sound_block::sound_block</a></div><div class="ttdeci">sound_block()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:173</div></div>
<div class="ttc" id="RageDriver_8h_html"><div class="ttname"><a href="../../d8/de1/RageDriver_8h.html">RageDriver.h</a></div></div>
<div class="ttc" id="classRageSoundDriver_html_a285c8b3079d6fed56d11b841b801ad47"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a285c8b3079d6fed56d11b841b801ad47">RageSoundDriver::RageSoundDriver</a></div><div class="ttdeci">RageSoundDriver()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:476</div></div>
<div class="ttc" id="classRageSoundDriver_html_a82d253dfb93ee0718c1db683709af4fc"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a82d253dfb93ee0718c1db683709af4fc">RageSoundDriver::m_bShutdownDecodeThread</a></div><div class="ttdeci">bool m_bShutdownDecodeThread</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:223</div></div>
<div class="ttc" id="classRageSoundMixBuffer_html"><div class="ttname"><a href="../../d9/d1b/classRageSoundMixBuffer.html">RageSoundMixBuffer</a></div><div class="ttdef"><b>Definition:</b> RageSoundMixBuffer.h:6</div></div>
<div class="ttc" id="structRageSoundDriver_1_1sound__block_html_a831eccd88b598cff3f0fe366ccf8166d"><div class="ttname"><a href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#a831eccd88b598cff3f0fe366ccf8166d">RageSoundDriver::sound_block::m_Buffer</a></div><div class="ttdeci">float m_Buffer[samples_per_block]</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:169</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a95c26a7fb6dce48971d224db6190284f"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a95c26a7fb6dce48971d224db6190284f">RageSoundDriver::Sound::m_PosMapQueue</a></div><div class="ttdeci">CircBuf&lt; QueuedPosMap &gt; m_PosMapQueue</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:199</div></div>
<div class="ttc" id="classRageSoundDriver_html_a362460e811c51f1242a56eb21621aca3"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a362460e811c51f1242a56eb21621aca3">RageSoundDriver::MixDeinterlaced</a></div><div class="ttdeci">void MixDeinterlaced(float **pBufs, int channels, int iFrames, int64_t iFrameNumber, int64_t iCurrentFrame)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:198</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a6169db4b73bdebcfd6c987b5d028667aaec75996edac5ed63a4e4f4fb0a73cfe8"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaec75996edac5ed63a4e4f4fb0a73cfe8">RageSoundDriver::Sound::STOPPED</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:205</div></div>
<div class="ttc" id="RageSoundDriver__ALSA9__Software_8cpp_html_ac7972ea7ef4795b69f79f47a96a5e107"><div class="ttname"><a href="../../db/d90/RageSoundDriver__ALSA9__Software_8cpp.html#ac7972ea7ef4795b69f79f47a96a5e107">channels</a></div><div class="ttdeci">static const int channels</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_ALSA9_Software.cpp:19</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_1_1QueuedPosMap_html"><div class="ttname"><a href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html">RageSoundDriver::Sound::QueuedPosMap</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:192</div></div>
<div class="ttc" id="classRageSoundDriver_html_a8053c4fd510d0f483fd22b5b10a7d2e1"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a8053c4fd510d0f483fd22b5b10a7d2e1">RageSoundDriver::StartMixing</a></div><div class="ttdeci">void StartMixing(RageSoundBase *pSound)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:342</div></div>
<div class="ttc" id="structRageSoundDriver_1_1sound__block_html_af2e12ee31fcc88a98f9ac0de3246bc46"><div class="ttname"><a href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#af2e12ee31fcc88a98f9ac0de3246bc46">RageSoundDriver::sound_block::m_BufferNext</a></div><div class="ttdeci">float * m_BufferNext</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:170</div></div>
<div class="ttc" id="structRageSoundDriver_1_1sound__block_html_afa74b0cda98573fa0ceca8e58427b7c8"><div class="ttname"><a href="../../dc/dba/structRageSoundDriver_1_1sound__block.html#afa74b0cda98573fa0ceca8e58427b7c8">RageSoundDriver::sound_block::m_FramesInBuffer</a></div><div class="ttdeci">int m_FramesInBuffer</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:171</div></div>
<div class="ttc" id="classRageSoundDriver_html_a3cd0e3c6fa25509770c1c1f4bc96f8e0"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a3cd0e3c6fa25509770c1c1f4bc96f8e0">RageSoundDriver::m_DecodeThread</a></div><div class="ttdeci">RageThread m_DecodeThread</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:230</div></div>
<div class="ttc" id="classRageSoundDriver_html_a7773e188421b4ff38389b7a7198c193c"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a7773e188421b4ff38389b7a7198c193c">RageSoundDriver::Mix</a></div><div class="ttdeci">void Mix(int16_t *pBuf, int iFrames, int64_t iFrameNumber, int64_t iCurrentFrame)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:178</div></div>
<div class="ttc" id="classRageSoundDriver_html_a6e8e7b4ee93770297f12ebbff2af0ec8"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a6e8e7b4ee93770297f12ebbff2af0ec8">RageSoundDriver::m_SoundListMutex</a></div><div class="ttdeci">RageMutex m_SoundListMutex</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:120</div></div>
<div class="ttc" id="classRageSoundDriver_html_ae3aa9dd923ea62ba2e73e528cd39857b"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#ae3aa9dd923ea62ba2e73e528cd39857b">RageSoundDriver::m_iMaxHardwareFrame</a></div><div class="ttdeci">int64_t m_iMaxHardwareFrame</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:221</div></div>
<div class="ttc" id="SongManager_8cpp_html_a860beacf4ea6c97989bf4be0b1f14d06"><div class="ttname"><a href="../../dd/d69/SongManager_8cpp.html#a860beacf4ea6c97989bf4be0b1f14d06">p</a></div><div class="ttdeci">std::pair&lt; it&lt; T &gt;, it&lt; T &gt; &gt; p</div><div class="ttdef"><b>Definition:</b> SongManager.cpp:231</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_1_1QueuedPosMap_html_a08d5152aaded5a1d1e77d7747d4713fc"><div class="ttname"><a href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#a08d5152aaded5a1d1e77d7747d4713fc">RageSoundDriver::Sound::QueuedPosMap::iFrames</a></div><div class="ttdeci">int iFrames</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:194</div></div>
<div class="ttc" id="classRageSoundDriver_html_aa7287476041fa720145cf80ad35d9cb6"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#aa7287476041fa720145cf80ad35d9cb6">RageSoundDriver::Update</a></div><div class="ttdeci">virtual void Update()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:279</div></div>
<div class="ttc" id="classRageSoundDriver_html_a9e6427c9311abf8e4932971e0aa3d17c"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a9e6427c9311abf8e4932971e0aa3d17c">RageSoundDriver::GetPlayLatency</a></div><div class="ttdeci">virtual float GetPlayLatency() const</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:64</div></div>
<div class="ttc" id="classRageSoundDriver_html_a1329b69ae9a906c8ecc5307565e82cb0"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a1329b69ae9a906c8ecc5307565e82cb0">RageSoundDriver::m_pDriverList</a></div><div class="ttdeci">static DriverList m_pDriverList</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:20</div></div>
<div class="ttc" id="RageThreads_8h_html"><div class="ttname"><a href="../../d6/de6/RageThreads_8h.html">RageThreads.h</a></div></div>
<div class="ttc" id="classCircBuf_html"><div class="ttname"><a href="../../d2/dbc/classCircBuf.html">CircBuf</a></div><div class="ttdef"><b>Definition:</b> RageUtil_CircularBuffer.h:11</div></div>
<div class="ttc" id="RageUtil_8h_html"><div class="ttname"><a href="../../d6/d4c/RageUtil_8h.html">RageUtil.h</a></div></div>
<div class="ttc" id="structDriverList_html"><div class="ttname"><a href="../../d6/d3f/structDriverList.html">DriverList</a></div><div class="ttdef"><b>Definition:</b> RageDriver.h:17</div></div>
<div class="ttc" id="classRageSoundDriver_html_a668c0368b14bda799ad3b72f4f6158c8"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a668c0368b14bda799ad3b72f4f6158c8">RageSoundDriver::GetDataForSound</a></div><div class="ttdeci">int GetDataForSound(Sound &amp;s)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:254</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_1_1QueuedPosMap_html_ad7bd35f5f0c9892bccdea73eee27280c"><div class="ttname"><a href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#ad7bd35f5f0c9892bccdea73eee27280c">RageSoundDriver::Sound::QueuedPosMap::iStreamFrame</a></div><div class="ttdeci">int64_t iStreamFrame</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:195</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a455ca610b1fe86c0137f54e0d7a7db6d"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a455ca610b1fe86c0137f54e0d7a7db6d">RageSoundDriver::Sound::m_bPaused</a></div><div class="ttdeci">bool m_bPaused</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:190</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a6169db4b73bdebcfd6c987b5d028667aa9a492cd5759f55e96d409433bae6bf85"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aa9a492cd5759f55e96d409433bae6bf85">RageSoundDriver::Sound::PLAYING</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:213</div></div>
<div class="ttc" id="classRageMutex_html"><div class="ttname"><a href="../../d4/d99/classRageMutex.html">RageMutex</a></div><div class="ttdef"><b>Definition:</b> RageThreads.h:196</div></div>
<div class="ttc" id="classRageSoundDriver_html_a8f3de827df662dd3e4186c237d83b0ee"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a8f3de827df662dd3e4186c237d83b0ee">RageSoundDriver::MixIntoBuffer</a></div><div class="ttdeci">RageSoundMixBuffer &amp; MixIntoBuffer(int iFrames, int64_t iFrameNumber, int64_t iCurrentFrame)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:61</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a6169db4b73bdebcfd6c987b5d028667aabbdecd1df5915697549950ba39f14640"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aabbdecd1df5915697549950ba39f14640">RageSoundDriver::Sound::STOPPING</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:210</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_ae4bff4c35c1868671597991b96df505b"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#ae4bff4c35c1868671597991b96df505b">RageSoundDriver::Sound::Deallocate</a></div><div class="ttdeci">void Deallocate()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:44</div></div>
<div class="ttc" id="classRageSoundManager_html"><div class="ttname"><a href="../../da/d78/classRageSoundManager.html">RageSoundManager</a></div><div class="ttdef"><b>Definition:</b> RageSoundManager.h:17</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a4ed302a37a2d3fe7e6a2c1e716b98e68"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a4ed302a37a2d3fe7e6a2c1e716b98e68">RageSoundDriver::Sound::Allocate</a></div><div class="ttdeci">void Allocate(int iFrames)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:32</div></div>
<div class="ttc" id="classRageSoundDriver_html_a82062b4bfeeaca3ce03e79d209b162e2"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a82062b4bfeeaca3ce03e79d209b162e2">RageSoundDriver::GetHardwareFrame</a></div><div class="ttdeci">int64_t GetHardwareFrame(RageTimer *pTimer) const</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:529</div></div>
<div class="ttc" id="classRageSoundDriver_html_a2665f28494190b924a7f735d3814fe3c"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a2665f28494190b924a7f735d3814fe3c">RageSoundDriver::GetDefaultSoundDriverList</a></div><div class="ttdeci">static RString GetDefaultSoundDriverList()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.cpp:65</div></div>
<div class="ttc" id="classRageTimer_html"><div class="ttname"><a href="../../dc/d8a/classRageTimer.html">RageTimer</a></div><div class="ttdef"><b>Definition:</b> RageTimer.h:8</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a6169db4b73bdebcfd6c987b5d028667aaabf906d8225d5db28c6436718bb85f84"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaabf906d8225d5db28c6436718bb85f84">RageSoundDriver::Sound::AVAILABLE</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:203</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html">RageSoundDriver::Sound</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:180</div></div>
<div class="ttc" id="classRageSoundDriver_html_a71f63ec7c3317743ae69ef8e3d53e158"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a71f63ec7c3317743ae69ef8e3d53e158">RageSoundDriver::m_Mutex</a></div><div class="ttdeci">RageMutex m_Mutex</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:115</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_1_1QueuedPosMap_html_ad62f7c7b8c5b67085cc750f6c765607a"><div class="ttname"><a href="../../d2/d2d/structRageSoundDriver_1_1Sound_1_1QueuedPosMap.html#ad62f7c7b8c5b67085cc750f6c765607a">RageSoundDriver::Sound::QueuedPosMap::iHardwareFrame</a></div><div class="ttdeci">int64_t iHardwareFrame</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:196</div></div>
<div class="ttc" id="classRageSoundDriver_html_a8683fd72ff3827bf4a1bc112a9eda789"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a8683fd72ff3827bf4a1bc112a9eda789">RageSoundDriver::StartDecodeThread</a></div><div class="ttdeci">void StartDecodeThread()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:461</div></div>
<div class="ttc" id="global_8h_html_ac9ee9b3927a8200b03b8a03ea70d7ad7"><div class="ttname"><a href="../../d2/d49/global_8h.html#ac9ee9b3927a8200b03b8a03ea70d7ad7">RString</a></div><div class="ttdeci">StdString::CStdStringA RString</div><div class="ttdoc">Use RStrings throughout the program. </div><div class="ttdef"><b>Definition:</b> global.h:174</div></div>
<div class="ttc" id="classRageSoundDriver_html_aa9c5e9c34f955fd4599a5bcc49fad66e"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#aa9c5e9c34f955fd4599a5bcc49fad66e">RageSoundDriver::DecodeThread</a></div><div class="ttdeci">void DecodeThread()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:211</div></div>
<div class="ttc" id="classRageSoundDriver_html_a564f146f69c713536589914ddc700a50"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a564f146f69c713536589914ddc700a50">RageSoundDriver::SetupDecodingThread</a></div><div class="ttdeci">virtual void SetupDecodingThread()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:82</div></div>
<div class="ttc" id="classRageSoundDriver_html_a6fd63d6801ebe3813f0cf5161b5df37e"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a6fd63d6801ebe3813f0cf5161b5df37e">RageSoundDriver::SetDecodeBufferSize</a></div><div class="ttdeci">void SetDecodeBufferSize(int frames)</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:469</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a6169db4b73bdebcfd6c987b5d028667aaa01d3f573e7c8ab084aeaa6ee2194a5b"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a6169db4b73bdebcfd6c987b5d028667aaa01d3f573e7c8ab084aeaa6ee2194a5b">RageSoundDriver::Sound::BUFFERING</a></div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:204</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a482e90bcd62a078589455a622dad258e"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a482e90bcd62a078589455a622dad258e">RageSoundDriver::Sound::m_State</a></div><div class="ttdeci">enum RageSoundDriver::Sound::@32 m_State</div></div>
<div class="ttc" id="RageSoundDriver_8h_html_ac5421c50c9bef9bb472b5096dd14d11e"><div class="ttname"><a href="../../d5/d78/RageSoundDriver_8h.html#ac5421c50c9bef9bb472b5096dd14d11e">samples_per_block</a></div><div class="ttdeci">static const int samples_per_block</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:13</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a50414e89483f035195a05d903143fa8d"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a50414e89483f035195a05d903143fa8d">RageSoundDriver::Sound::Sound</a></div><div class="ttdeci">Sound()</div><div class="ttdef"><b>Definition:</b> RageSoundDriver_Generic_Software.cpp:24</div></div>
<div class="ttc" id="classRageSoundBase_html"><div class="ttname"><a href="../../d3/d9d/classRageSoundBase.html">RageSoundBase</a></div><div class="ttdef"><b>Definition:</b> RageSound.h:15</div></div>
<div class="ttc" id="classRageSoundDriver_html_a69db28a45695b97bb28dcff47a7cb5c0"><div class="ttname"><a href="../../d1/d4f/classRageSoundDriver.html#a69db28a45695b97bb28dcff47a7cb5c0">RageSoundDriver::GetPosition</a></div><div class="ttdeci">virtual int64_t GetPosition() const =0</div></div>
<div class="ttc" id="structRageSoundDriver_1_1Sound_html_a32b547da1e025a34e89c3ed611374cff"><div class="ttname"><a href="../../da/dbd/structRageSoundDriver_1_1Sound.html#a32b547da1e025a34e89c3ed611374cff">RageSoundDriver::Sound::m_pSound</a></div><div class="ttdeci">RageSoundBase * m_pSound</div><div class="ttdef"><b>Definition:</b> RageSoundDriver.h:186</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
